<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Synonyme</title>
   
   <script>
      async function getSynonyms() {
        let query  = document.getElementById('input').value;
        // query is "Abfrage" in Englisch
        let url = `https://www.openthesaurus.de/synonyme/search?q=${query}&format=application/json`;
        // we call it "response" because it is the response of the server.
        let response = await fetch(url);
        // .json() wandelt die response direkt in ein JSON um, mit dem wir arbeiten k√∂nnen.
        let responseAsJson = await response.json();
        // Wir wollen auf das Array 'synsets zugreifen'
        let synsets = responseAsJson['synsets'];
        renderSynsets(synsets);
      }

      function renderSynsets(synsets) {
        let container = document.getElementById('container');
        container.innerHTML = `<div>Es wurden <b>${synsets.length}</b> Synonym-Sets geladen.</div>`

        for (let i = 0; i < synsets.length; i++) {
            const synset = synsets[i];
            let terms = synset.terms; // terms ist ein array
            container.innerHTML += `<h2>Synonym-Set ${i+1}</h2>`
            for (let j = 0; j < terms.length; j++) {
                const term = terms[j];
                container.innerHTML += `<li>${term.term}</li>`
            }            
        }
      }
    </script>
    
  </head>
  <body>
    <input id="input" type="text" placeholder="Wort">
    <button onclick="getSynonyms()">Synonym erstellen</button>
    <div; id="container"></div>
  </body>
</html>
